<link rel="stylesheet" type="text/css" href="/assets/register/register.css" />
<link rel="stylesheet" type="text/css" href="/assets/register/provider_register.css" />
<link rel="stylesheet" type="text/css" href="/assets/register_new/provider_register_pop.css" />
<!-- Auto complete js start -->
<link rel="stylesheet" type="text/css" href="/assets/contacts_users/jquery-ui.css" />
<link rel="stylesheet" type="text/css" href="/assets/contacts_users/smooth-theme-jquery-ui.css" />
<script src="assets/auto_complete/jquery-ui.js"></script>
<!-- Auto complete js end -->
<!-- Auto complete  css start-->
<style type="text/css">
  BODY {
    font-family: Arial, Helvetica, sans-serif;
    font-size: 13px;
    line-height: 1.5;
  }

  INPUT {
    vertical-align: middle;
    font-size: 13px;
  }
  
  .setHyphen
  {
  padding: 0 10px;
  }
  
  .ui-autocomplete { width: 258px;max-height: 150px; overflow-y: auto; overflow-x: hidden;}

.vO {
text-align: left;
height: 20px!important;
overflow: hidden;
padding: 6px 3px;
resize: none;
width: 40px;
}
.vR {
font-size: 13px;
display: inline-block;
padding: 3px;
vertical-align: top;
}

.vN {
background-color: #f5f5f5;
border: 1px solid #d9d9d9;
cursor: default;
display: block;
height: 20px;
white-space: nowrap;
-webkit-border-radius: 3px;
border-radius: 3px;
}

.vT {
display: inline-block;
color: #222;
margin: 2px 5px;
max-width: 325px;
max-height: 17px;
overflow: hidden;
text-overflow: ellipsis;
direction: ltr;
cursor: move;
}

.vM {
display: inline-block;
width: 14px;
height: 20px;
background: no-repeat url(/assets/create_new_activity/contactarea_sprite_2.gif) -4px 0;
opacity: .6;
vertical-align: top;
cursor: pointer;
}

.ui-menu-item a
    {
        max-width:100%;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;
    }
</style>
<!-- Auto complete  css end-->

<div id="register_outerContainer">
  <div class="Provider_innerContainer">
    <div class="header" align="center">
      <%= link_to image_tag("/assets/register/logo.png", :border=>0,:width=>305,:height=>100,:align=>"center"), :controller => 'landing' %>

    </div>
    <div class="ProviderCenterContent">
	<div class="innerMarketDiv" style="padding: 20px 10px 20px 24px;">
      <%= form_for(@user_usr, :url => { :action => "internal_provider_submit" }, :html=>{:multipart=>true}, :remote => true) do |f| %>

        <div>
          <div class="lt" style="width: 461px;">
            <p class="head" style="color:#186171;">Register as Provider</p>
	    
            <div class="marginTop14_provider">
		<div class="lt leftSideField">Contact Name</div>
		<%= f.text_field :user_name,:id=>"p_name",:name=>"p_name",:value=>"#{@p_name}",:class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == '#{@p_name}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@p_name}'}",:onchange=>"removeunwantedSpace(this.value)", :tabindex => '1' %>
		<div class="clear"></div>
            </div>
            <div class="errorDiv" style="display:none">
              <div class="lt leftSideField">&nbsp;</div>
              <div class="lt" id="p_name_error"></div>
            </div>
            <div class="clear"></div>
            <div class="marginTop15">
              <div class="lt leftSideField">Password</div>
              <%= f.password_field :user_password,:id=>"p_password",:name=>"p_password", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == ''){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value=''}", :tabindex => '3'%>
              <div class="clear"></div>
            </div>
            <div class="errorDiv" style="display:none">
              <div class="lt leftSideField">&nbsp;</div>
              <div class="lt" id="p_password_error"></div>
            </div>
            <div class="clear"></div>
			<%= f.fields_for :user_profile_pfl do |b| %>
			<div class="marginTop15" style="width: 442px;">
			<div class="lt leftSideField">Business Name</div>
				<%= b.text_field :business_name,:id=>"b_name",:name=>"b_name",:value=>"#{@buis_name}",:class=>"lt textbox_provider",:style=>"outline: none; position:relative;",:onfocus=>"if(this.value == '#{@buis_name}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@buis_name}'}",:onchange=>"removeunwantedSpace(this.value)", :tabindex => '5' %>
				<div class="clear"></div>
				</div>
				<div class="errorDiv" style="display:none">
				<div class="lt leftSideField">&nbsp;</div>
				<div class="lt" id="b_name_error"></div>
			</div>
			<div class="clear"></div>
			
	 
	    <div style="width: 442px;" class="marginTop15">
			<div class="lt leftSideField">Tell About <br/>Provider</div>
				<textarea name="p_description" id="p_description" rows="10" cols="40"  class="lt textbox descTextbox"  tabindex="7" onblur="if(this.value==''){this.value='Description should not exceed 1000 characters';this.style.color='#999999'}" onfocus="if(this.value=='Description should not exceed 1000 characters'){this.value='';this.style.color='#444444'}">Description should not exceed 1000 characters</textarea>
				<div class="clear"></div>
			</div>
			<div style="display:none" class="errorDiv">
				<div class="lt leftSideField">&nbsp;</div>
				<div id="p_description_error" class="lt"></div>
			</div>


              <!--div class="marginTop15" >
                <div class="lt leftSideField">Owner</div>
                <%= b.text_field :owner_first_name,:id=>"p_owner_firstname",:name=>"p_owner_firstname",:value=>"#{@owner1}",:onfocus=>"if(this.value == '#{@owner1}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@owner1}'}", :class=>"lt textbox_ownerprovider",:style=>"outline: none;", :onchange => "validateOwnerFirstname()" %>

                <%= b.text_field :owner_last_name,:id=>"p_owner_lastname",:name=>"p_owner_lastname",:value=>"#{@owner2}",:onfocus=>"if(this.value == '#{@owner2}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@owner2}'}", :class=>"lt textbox_ownerprovider",:style=>"outline: none; margin-left:5px;",:onchange => "validateOwnerLastname()"%>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_owner_firstname_error" style="display: inline-block; float: left;width: 150px;"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt" id="p_owner_lastname_error" style="display: inline-block; float: right; margin-right:19px;width: 150px;"></div>
                <div class="lt" style="margin-left: 8px;"></div>
              </div-->
              <div class="clear"></div>

            </div>

            <input type="hidden" id="email_exist" value="" />
            <div class="lt" style="width: 413px; padding: 20px 0 0 0px;">
              <div class="marginTop15" style="width: 442px;">
                <div class="lt leftSideField">Email</div>
                <%= f.text_field :email_address,:id=>"p_email",:name=>"p_email",:value=>"#{@p_email}", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == '#{@p_email}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"check_email();if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@p_email}'}", :tabindex => '2'%>
                <div class="clear"></div>
              </div>
              <div id="curator_email_error" class="errorDiv" style="margin-left: 135px;display:none">Already has taken that Email address. Try another.</div>
              <% if @user_usr.errors.any? %>
                <div id="error_explanation" class="errorDiv">
                  <div class="lt leftSideField">&nbsp;</div>
                  <% @user_usr.errors.each_with_index do |msg, i| %>
                    <div class ="setStyleEmail" id="setStyleEmail"><%= msg[1] %></div>
                  <% end %>
                </div>
              <% end %>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_email_error"></div>
              </div>
              <div class="clear"></div>
            <div class="marginTop15" style="width: 442px;">
              <div class="lt leftSideField">Confirm Password</div>
              <%= f.password_field :password,:id=>"p_confirm_password",:name=>"p_confirm_password", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == ''){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value=''}", :tabindex => '4'%>
              <div class="clear"></div>
            </div>
            <div class="errorDiv" style="display:none">
              <div class="lt leftSideField">&nbsp;</div>
              <div class="lt" id="p_confirm_password_error"></div>
            </div>
            <div class="clear"></div>
              <div class="marginTop14" style="width: 442px;">
                <div class="lt leftSideField">Business Logo</div>
                <div class="lt FileUpload">
                  <input type="file" accept="image/*" onchange="document.getElementById('browse_photo').value =this.value;fakepath(this.value,browse_photo);" size="21" id="photo" class="BrowserHidden" name="activity_image" style="left:150px;">
                  <div class="BrowserVisible" style="border:none;">
                    <input type="text" name="browse_photo" id="browse_photo" class="FileField"  tabindex="6"/>
                  </div>
                  <span class="browse"><img src="/assets/register/browse.png" width="76" height="30" /></span>
                  <div class="clear"></div>
                </div>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="b_logo_error"></div>
              </div>
              <p class="msg" style=" color: #FC8989; font-size: 12px;  font-weight: normal;margin-left: 135px;"></p>
              <div class="clear"></div>


              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_admin_firstname_error" style="display: inline-block; float: left; width: 150px;"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt" id="p_admin_lastname_error" style="display: inline-block; float: right; margin-right:8px;width: 150px;"></div>
                <div class="lt" style="margin-left: 8px;"></div>
              </div>
              <div class="clear"></div>

              <div class="errorDiv" style="display:none">
                <div class="lt errorDivProvider" id="admin_provider_error" style="margin-left: 160px;"></div>
              </div>
              <div class="clear"></div>
	      
	      
	      
	    
	    <div class="marginTop14" style="width: 442px;">
                <div class="lt leftSideField">Provider Image</div>
                <div class="lt FileUpload">
                  <input type="file" accept="image/*" onchange="document.getElementById('card_image_name').value =this.value;fakepath(this.value,card_image_name);" size="21" id="card_image" class="BrowserHidden" name="card_image" style="left:150px;">
                  <div class="BrowserVisible" style="border:none;">
                    <input type="text" name="card_image_name" id="card_image_name" class="FileField"  tabindex="8"/>
                  </div>
                  <span class="browse"><img src="/assets/register/browse.png" width="76" height="30" /></span>
                  <div class="clear"></div>
                </div>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="b_card_error"></div>
              </div>

            </div>
            <div class="clear"></div>
	    
          </div>



<div class="clear"></div>
        <!-- Category and Sub Category start -->
                <div class="paddingTop10">
                  <div class="lt leftSideField" style="margin-top: 13px;">
                     Category
                  </div>
                  <div class="lt" style="margin-top: 15px;">
                    <div class="lt col1" >
                      <select  id="category" name="category" size="1" tabindex="9" class="drop_down_left width_set2"  style="color:#444444;" onkeyup="find_category_events(this.value)" onchange="set_category(this.value)">
              <option value="">--Select Category--</option>
                        <% @activities_category = ActivityCategory.order(:category_name).where("lower(category_name)!= ?","default")%>
                        <% @activities_category.each do |cat|%>
                          <option value="<%= cat.category_name.html_safe %>" <%if "#{cat.category_name}" == "#{@user_profile.category if !@user_profile.nil?}" %>selected="selected"<%end%>><%= cat.category_name.html_safe %></option>
                        <%end%>
                      </select>
                    </div>
                    <div class="lt leftSideField" style="margin-left: 22px;">Sub Category</div>
                    <div class="lt col2" style="margin-left: -16px;">
                      <div class="lt sub_category" style="margin-left: 15px;">
                        <select id="sub_category" name="sub_category" size="1" tabindex="10" class="drop_down_left width_set2" style="color:#444444;" onChange="$(this).css('color','#444444')">
                          <% category = ActivityCategory.where(:category_name=>@user_profile.category).last if !@user_profile.nil? && !@user_profile.category.blank?%>
                          <% @sub = ActivitySubcategory.where(:category_id=>category.id).order(:subcateg_name) unless category.blank?%>
                          <%@sub_category=@sub.to_a%>
                          <% if !@sub_category.nil? && @sub_category!="" %>
                <option value="">--Select Sub Category--</option>
                            <% @sub_category.each do |sub|%>
                              <option value="<%= sub.subcateg_name.html_safe %>" <%if "#{sub.subcateg_name}" == "#{@user_profile.sub_category}" %>selected="selected"<%end%>><%= sub.subcateg_name.html_safe %></option>
                            <%end %>
                          <%else%>
                <option value="" selected="selected">--Select Sub Category--</option>
              <%end%>
                        </select>
                      </div>
                    </div>
                  </div>
                </div>
        <div class="clear"></div>
        <div class="errorDiv" style="display:none">
                   <div class="lt leftSideField">
                      &nbsp;
                    </div>
                    <div id="sub_category_error" class="lt" style="float:right;margin-right: 185px;"></div>
    <div class="clear"></div>
        </div>
        <!-- Category and Sub Category end -->
              <div class="clear"></div>
        <!-- Tags concept start -->
              <div class="paddingTop10">
                <div class="lt leftSideField" style="margin-top: 13px;">
          <div style="float: left;">Tags</div>
          <div id="provider_event_list" style="float: left;width: 25px;padding-left: 7px;">
            <div class="lt ActiveDivMenu" id="menu_active">
            <ul>
              <li><img style="cursor: pointer;" src="/assets/provider_register/help.png" alt="">
              <ul class="sub-menu dispParticipantToll" style="width: 358px;">
                <li style="font-weight: normal;">Please enter keywords separated by commas that will help parents find you when they search for provider cards.</li>
              </ul>
              </li>
            </ul>
            <div class="clear"></div>
            </div>
          </div>
        </div>
        <div class="lt textbox" style="min-height: 60px;width:295px;height:auto;margin-top: 13px;background: #fff;">
          <div id="tag-keyword">
          <%if !@user_profile.nil? && !@user_profile.tags_txt.nil?%>
          <%n=1%>
          <%!@tags_text.blank? && @tags_text.each do |tag|%>
          <div class="vR" id="tagdiv_<%=n%>">
           <span class="vN vP" email="<%=tag%>">
             <div class="vT"><%=tag%></div>
             <div class="vM cls" onclick="cls_tag(<%=n%>)" title="Remove Tag"></div>
           </span><input name="to" type="hidden" value="<%=tag%>" id="taginput_<%=n%>" class="taginput">
          </div>
          <%n=n+1%>
          <%end%>
          <input type="hidden" id="tag-end-value" value="<%=@tags_text.length%>" />
          <%end%>
        </div>
                <textarea rows="1" class="vO lt textbox" name="tag_txt" id="tag-txt" tabindex="11" style="margin-left: -4px;border:none;width:294px;float:left;padding-top: 7px;" ></textarea>
        <input type="hidden" id="provider-tag-txt" value="<%=@user_profile.tags_txt if !@user_profile.nil?%>" name="provider_tag" />
                <div class="clear"></div>
              </div>
              </div>
        <div class="clear"></div>
        <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="tag_error" style="font-weight: bold;"></div>
                <div class="clear"></div>
              </div>
        <!-- Tags concept end -->
        <div class="clear"></div>


          <div>
            <div class="lt" style="width: 460px;  margin-top: -10px;">
              <p class="head" style="margin-top: 20px; color:#186171;">Billing Address</p>
              <div class="marginTop14">
                <div class="lt leftSideField">Address Line 1</div>
                <%= b.text_field :address_1,:id=>"address1",:name=>"address1",:value=>"#{@add1}", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == '#{@add1}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@add1}'}",:onchange=>"removeunwantedSpace(this.value)", :tabindex => '12'%>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="address1_error"></div>
              </div>
              <div class="clear"></div>
              <div class="marginTop14">
                <div class="lt leftSideField">Country</div>
			<div class="lt customCity">
		<select name="country" id="p_country" size="1" tabindex="14" class="drop_down_left">
			<option value="United States">United States</option>
		</select>
                </div>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_country_error"></div>
              </div>
              <div class="clear"></div>
              <div class="marginTop14" id="city_height">
                <div class="lt leftSideField">City</div>
                <div class="lt customCity">
		  <select name="city" id="p_city" tabindex="16"  class="drop_down_left">
			<%@cities = City.where("state_id = 1 and country_id = 1").order("city_name Asc")%>			
			<%@cities.each do |cit|%>
				<option value="<%= cit.city_name %>"><%= cit.city_name %></option>
			 <%end%>
		</select> 
		
		
                </div>

                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none" id="cityError">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_city_error"></div>
              </div>
              <div class="clear"></div>


              <div class="marginTop14">
                <div class="lt leftSideField">Time Zone</div>
                <div class="lt customCity">		
		<select name="time" id="p_time" size="1" class="drop_down_left" tabindex="18">
			 <%if @time_zone%>
			<option value="<%= @time_zone %>"><%= @time_zone %></option>
			<%else%>
			<option value="Pacific Time Zone">Pacific Time Zone</option>
			 <%end%>
		</select>   
		
                </div>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_time_error"></div>
              </div>
              <div class="clear"></div>
              <div class="marginTop15">
                <div class="lt leftSideField">Mobile</div>

                <%= b.text_field :mobile,:id=>"p_mobile",:name=>"p_mobile",:value=>"#{@mobile}", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == '#{@mobile}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@mobile}'}",:onchange=>"removeunwantedSpace(this.value)", :tabindex => '20', :onchange =>"validateMobileNumber()"%>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_mobile_error"></div>
              </div>
              <div class="clear"></div>
              <div class="marginTop15">
                <div class="lt leftSideField">Web Address</div>
                <%= b.text_field :website,:id=>"web_addrs",:value=>"#{@web}",:name=>"web_addrs", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == '#{@web}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@web}'}",:onchange=>"removeunwantedSpace(this.value)", :tabindex => '22'%>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="web_addrs_error"></div>
              </div>

              <div class="clear"></div>
              <div class="marginTop12">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt">
                  <input type="hidden" name="agree_provider" id="agree_provider" value="" />
                  <span  class="checkbox">
                    <a href="javascript:void(0)" title="" id="p_checkbox_selected" onclick="dispCheckboxImg('p_checkbox_selected')" onkeydown="ag_cb_keydown(event,'p_checkbox_selected')" style="display: none" tabindex="24"><img src="/assets/register/checkbox_selected.png" alt=""/></a>
                    <a href="javascript:void(0)" title="" id="p_checkbox_normal" onclick="dispCheckboxImg('p_checkbox_normal')" onkeydown="ag_cb_keydown(event,'p_checkbox_normal')" tabindex="24"><img src="/assets/register/checkbox_normal.png" alt=""/></a>
                    <a href="javascript:void(0)" title="" id="p_checkbox_error" onclick="dispCheckboxImg('p_checkbox_error')" onkeydown="ag_cb_keydown(event,'p_checkbox_error')"  tabindex="24" style="display: none"><img src="/assets/register/checkbox_error.png" alt=""/></a>
                  </span>
                  <p class="lt checkboxCont">I agree to the <a href="javascript:void(0)" onkeydown="termsKeyDown(event)" title="" tabindex="25">Terms of Service, Privacy &amp; Refund Policies</a></p>
                  <div class="clear"></div>
                </div>
                <div class="clear"></div>
              </div>
              <div class="clear"></div>

              <div class="errorDiv" style="display:none">
                <div class="lt errorDivProvider" id="agree_provider_error" style="margin-left: 160px;"></div>
              </div>
              <div class="clear"></div>
              <div class="marginTop12">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt">
                  <input type="hidden" name="user_mail" id="user_mail" value="" />
                  <span  class="checkbox">
                    <a href="javascript:void(0)" title="" id="p_checkboxInternal_selected" onclick="dispCheckboxImg('p_checkboxInternal_selected')" onkeydown="ag_cb_keydown(event,'p_checkboxInternal_selected')" style="display: block" tabindex="26"><img src="/assets/register/checkbox_selected.png" alt=""/></a>
                    <a href="javascript:void(0)" title="" id="p_checkboxInternal_normal" onclick="dispCheckboxImg('p_checkboxInternal_normal')" onkeydown="ag_cb_keydown(event,'p_checkboxInternal_normal')" tabindex="26" style="display:none;"><img src="/assets/register/checkbox_normal.png" alt=""/></a>
                    <a href="javascript:void(0)" title="" id="p_checkboxInternal_error" onclick="dispCheckboxImg('p_checkboxInternal_error')" onkeydown="ag_cb_keydown(event,'p_checkboxInternal_error')"  tabindex="26" style="display: none"><img src="/assets/register/checkbox_error.png" alt=""/></a>
                  </span>
                  <p class="lt checkboxCont">Don't Notify user</p>
                  <div class="clear"></div>
                </div>
                <div class="clear"></div>
              </div>
              <div class="clear"></div>
              <div class="paddingTop20">
                <div class="lt leftSideField">&nbsp;</div>
                <div style="width: 400px;*margin:-20px 0 0 134px; position: relative;">
                  <a href="javascript:void(0)"  class="lt loginButton" title="Register" style="width:93px; *width:95px;"><input type="submit" id="register_button"  width="97" height="37" alt="" class="lt loginButton"  value="" title="Register" onclick="return validateProviderForm();" tabindex="27"/></a>
                  <a href="javascript:clearData()" title="" tabindex="28" style="display:inline-block;" onkeydown="cancelKeyDown(event)"><img src="/assets/login/cancel_button.png" width="97" height="37" alt="" class="lt" /></a>

                  <div class="clear"></div>
                </div>
                <div class="clear"></div>
              </div>
              <div class="marginTop14">
                <div class="lt leftSideField">&nbsp;</div>
                <p class="alreadyText">Already have an account?  <a href="/login" title="" tabindex="29" onkeydown="signinKeyDown(event); _gaq.push(['_trackEvent', 'Login', 'clickLogin']);">Login</a></p>
                <div class="clear"></div>
              </div>


            </div>
            <div class="lt" style="width: 434px; margin-top: -10px;">
              <p class="head" style="margin-top: 20px;">&nbsp;</p>
              <div class="marginTop15" style="width: 442px;">
                <div class="lt leftSideField">Address Line 2</div>
                <%= b.text_field :address_2,:id=>"address2",:name=>"address2",:value=>"#{@add2}", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == '#{@add2}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@add2}'}", :onchange=>"removeunwantedSpace(this.value)", :tabindex => '13',:onchange => "addressLine2()"%>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none;">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="address2_error"></div>
              </div>
              <div class="clear"></div>
              <div class="marginTop14" style="width: 443px;">
                <div class="lt leftSideField">State</div>
                <div class="lt customCity">
		<select name="state" id="p_state" size="1" tabindex="15"  class="drop_down_left">
			<%if @state%>
			<option value="<%=@state%>"><%=@state%></option>
			<%else%>
			<option value="California">California</option>
			<%end%>
		</select>
                </div>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_state_error"></div>
              </div>
              <div class="clear"></div>
              <div class="marginTop14" style="width: 442px;">
                <div class="lt leftSideField">Zip Code</div>
                <%= b.text_field :zip_code,:id=>"p_zipcode",:value=>"#{@zip}",:name=>"p_zipcode", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == '#{@zip}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@zip}'}", :onchange=>"removeunwantedSpace(this.value)", :tabindex => '17'%>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_zipcode_error"></div>
              </div>
              <div class="clear"></div>
              <div class="marginTop15" style="width: 442px;">
                <div class="lt leftSideField">Phone</div>
                <%= b.text_field :phone,:id=>"p_phone",:name=>"p_phone",:value=>"#{@phone}", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == '#{@phone}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@phone}'}",:onchange=>"removeunwantedSpace(this.value)", :tabindex => '19'%>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_phone_error"></div>
              </div>

              <div class="clear"></div>
              <div class="marginTop15" style="width: 442px;">
                <div class="lt leftSideField">Fax</div>
                <%= b.text_field :fax,:id=>"p_fax",:name=>"p_fax",:value=>"#{@fax}", :class=>"lt textbox_provider",:style=>"outline: none;",:onfocus=>"if(this.value == '#{@fax}'){this.value=''; this.style.color='#444444'; this.style.border='1px solid #9fd8eb';}", :onblur=>"if (this.value == '') {this.style.color='#999999'; this.style.border='1px solid #BDD6DD';this.value='#{@fax}'}",:onchange=>"removeunwantedSpace(this.value)", :tabindex => '21'%>
                <div class="clear"></div>
              </div>
              <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="p_fax_error"></div>
              </div>
              <div class="clear"></div>
              <div class="lt leftSideField" style="margin-top: 12px;">Added By</div>
              <div class="lt customCity addby" style="margin: -20px 0px 1px 134px;">

<select name="add_by" id="add_by" tabindex="23"  class="drop_down_left">
  <%@added=["--Select--","Jancy","Praveena","Sofia","Surya","Thangam"]%>
      <%@added.each do |ad|%>
        <option value="<%= ad %>"><%= ad %></option>
       <%end%>
    </select>
                </div>
                <div class="clear"></div>
                <div class="errorDiv" style="display:none">
                <div class="lt leftSideField">&nbsp;</div>
                <div class="lt" id="add_by_error"></div>
              </div>
              <div class="clear"></div>
            </div>
          </div>
          </form>
        <%end%>
      <%end%>
      <div class="clear"></div>
	  </div>
    </div>

  </div>
</div>

<!--#include virtual="/icom_includes/bizo/tag.html"-->

<!-- START VIBRANT --><!--#include virtual="/includes/Vibrant.html" --><!-- END VIBRANT -->
<script language="javascript">
function find_category_events(val)
{
  if(e.which != 9)
  {
    set_category(val);
  }
}

function set_category(category){
    if(category == "");
    $.get('/activities/edit_update_sub_category',{
        "id":category
    }, function(data){
        $("#sub_category").html(data);
    });
    $("#category").css('color','#444444');
    $("#sub_category").css('color','#444444');
    return false;
}

function check_email(email_id)
{
  //inner loop start
              c_email=$("#p_email").val();
              $.ajax({
                type: "POST",
                url: "users/curated_user_exist",
                data: {"email": c_email },
                dataType : 'json',
                iframe: 'true',
                cache: false,
                success: function(data){
                 if (data!="success")
                  {   
                     $('#curator_email_error').show(); 
                     $('#email_exist').val("error");   
                                 
                  }
                  else 
                  {   
                     $('#curator_email_error').hide();  
                     $('#email_exist').val("");   
             
                  }
                }
              });
//inner loop end
}

//Tags concept  
  var i = 0;
  $(document).ready(function(){
    if($("#tag-end-value") && $("#tag-end-value").val() != "" && $("#tag-end-value").val() != "undefined")
    {
      i = parseInt($("#tag-end-value").val());
    if(isNaN(i))
    {
      i=0;
    }
    }
  });
  $("#tag-txt").live("keydown",function(event){
    $("#tag_error").html("");
    $(".errorDiv").css("display","none");
    if(event.keyCode == 13)
    {
    event.preventDefault();
    var txt_tag = this.value.trim();
    check_tag_value(txt_tag);
    }
  });

  $("#tag-txt").live("blur",function(event){
    $("#tag_error").html("");
    $(".errorDiv").css("display","none");
    var txt_tag = this.value.trim();
    check_tag_value(txt_tag);
  });

$(document).ready(function(){
$("#tag-txt").autocomplete({
source: "/user_tags",
select: function( event, ui ) {
if(event.keyCode != 13)
{
var txt_tag = ui.item.value.trim();
check_tag_value(txt_tag);
}
return false;
}
}).keyup(function (e) {
if(e.which == 13) {
  $(".ui-menu").hide();
} 
});
});

function cls_tag(id){
$('#tagdiv_'+id).remove();
assign_tag_value();
}

function assign_tag_value(){
var arr=new Array();
$(".taginput").each(function( index ) {
  arr.push(this.value);
});
$("#provider-tag-txt").val(arr);
$("#tag-txt").focus();
}

function check_tag_value(txt_tag)
{
var txt_tag_value = txt_tag;
if(txt_tag != "" && txt_tag != "undefined" && (/^\d*[a-zA-Z-]{1,}\d*/.test(txt_tag)))
{
  var chk_arr = new Array();
  $(".taginput").each(function( index ) {
    chk_arr.push(this.value);
  });
        var lowerCaseItems = $.map(chk_arr, function(n,i){return n.toLowerCase();});
        if(lowerCaseItems.indexOf(txt_tag.toLowerCase()) != -1)
  {
  $("#tag_error").html("You can't add the same tag more than once");
  $(".errorDiv").css("display","block");
  }
  else
  i = i + 1;
        //tag split if tag with comma 
        if(/,/.test(txt_tag_value)){
            var tagsplit=txt_tag_value.split(',');
            for(var a=0;a<tagsplit.length;a++){
               $("<div class='vR' id='tagdiv_"+i+"'><span class='vN vP'><div class='vT'>"+tagsplit[a]+"</div><div class='vM cls' onclick=cls_tag("+i+") title='Remove Tag'></div></span><input name='to' type='hidden' value='"+tagsplit[a]+"' id='taginput_"+i+"' class='taginput' /></div>").appendTo($( "#tag-keyword" ));
                  $("#tag-txt").val("");
              assign_tag_value();
               }
            }
        else{
              $("<div class='vR' id='tagdiv_"+i+"'><span class='vN vP'><div class='vT'>"+txt_tag+"</div><div class='vM cls' onclick=cls_tag("+i+") title='Remove Tag'></div></span><input name='to' type='hidden' value='"+txt_tag_value+"' id='taginput_"+i+"' class='taginput' /></div>").appendTo($( "#tag-keyword" ));
                  $("#tag-txt").val("");
              assign_tag_value();
        }
}
}

function fakepath(filepath,id)
{
	inputNode = filepath.replace('C:\\fakepath\\', '');	
	var pos = filepath.lastIndexOf( filepath.charAt( filepath.indexOf(":")+1) );
	var filename = filepath.substring( pos+1);
	
	var ua=navigator.userAgent;
	if(ua.indexOf("Firefox")!=-1){ 
		$("#"+id).val(filepath); 
	} 
	else {
		$("#"+id).val(filename);
	}
}

  var gDomain="www.qsstats.com";
  var gDcsId="dcs17vxkl10000wkxczu5l0wa_9y2e";
  var gFpc="WT_FPC";
  var gConvert=true;
  var gFpcDom = "webreference.com";
  if ((typeof(gConvert) != "undefined") && gConvert && (document.cookie.indexOf(gFpc + "=") == -1) && (document.cookie.indexOf("WTLOPTOUT=")==-1)) {
    document.write("<SCR"+"IPT TYPE='text/javascript' SRC='http"+(window.location.protocol.indexOf('https:')==0?'s':'')+"://"+gDomain+"/"+gDcsId+"/wtid.js"+"'><\/SCR"+"IPT>");
  }
  function dcsAdditionalParameters() {}

  $(document).ready(function(){
    $("#browse_photo").keyup(function(){
      var browse_photo=$("#browse_photo").val();
      $("#browse_photo").val("");
    });
  });

  $(document).ready(function(){
    $("#browse_photo").keydown(function(){
      var browse_photo=$("#browse_photo").val();
      $("#browse_photo").val("");
    });
  });

</script>
<script type="text/javascript" src="/assets/register/register.js"></script>
<script type="text/javascript" src="/assets/register/validate.js"></script>
<script type="text/javascript" src="/assets/register/provider_register_update.js"></script>